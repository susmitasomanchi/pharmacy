@(pharmacy: models.pharmacist.Pharmacy)


@main(pharmacy.name) {

@*Script for loading google map*@
<script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>


@*End of Script for loading google map*@
<script>
	var i = 0;
	function addfiles() {
		i++;
		$("#files")
				.append(
						'<div class="row" id="file'+i+'"><br><input type="file" name="file'+i+'" id="inputfile'+i+'" onchange="checkfile('+i+');"/><div class="col-md-4"><div id="insertfn-'+i+'"></div><a class="btn btn-xs btn-danger" onclick="removebut(\'file'
								+i+'\');">remove</a></div></div>');
		$("#inputfile"+i).trigger('click');
		$("#addfiles").html(' Add More Files ');
	}

	function checkfile(id){
		$('#insertfn-'+id).html($("#inputfile"+id).val().trim());
	}

	function removebut(id) {
		$('#'+id).remove();
	}
</script>

<style>
.container{
	padding-left: 30px;
	padding-right: 30px;
	width:1032px;
}
.chosen-container .chosen-container-single{
width:250px;
.alert-success{
background-image: linear-gradient(to bottom,#dff0d8 0,#c8e5bc 100%);
background-repeat: repeat-x;
border-color: #b2dba1;
color:black;
}

}
</style>
	<script>

$('[data-toggle="popover"]').popover();

$('body').on('click', function (e) {
    $('[data-toggle="popover"]').each(function () {
        if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
            $(this).popover('hide');
        }
    });
});
    

function submitimagesform(){

$("[data-toggle=popover]").popover('hide');

$('#spinner').addClass("fa-spin");

}

function submitbasicform(id){
	$("[data-toggle=popover]").popover('hide');
	$('#'+id).addClass("fa-spin");
}
</script>	
	
@if(pharmacy.backgroundImage != null){
	<div style="background-image:url('/pharmacy/get-image/@pharmacy.id/0');background-size:940px 400px; background-repeat:no-repeat; height:400px;"></div>
}else{
	<div style="background-image:url('/assets/images/pharmacy-default-bg-image.jpg');background-size:940px 400px; background-repeat:no-repeat; height:400px;"></div>
}

<span data-toggle="popover" data-placement="left" title="Change Background Image" data-html="true" data-content="<form action=&quot;/pharmacy/upload-pharmacy-images&quot; enctype=&quot;multipart/form-data&quot; method=&quot;POST&quot;><input type=&quot;file&quot; name=&quot;backgroundImage&quot;> <input type=&quot;hidden&quot; name=&quot;pharmacyId&quot; value=&quot;@pharmacy.id&quot;> <br><input class=&quot;pull-right btn btn-xs btn-primary&quot; type=&quot;submit&quot; onclick=&quot;submitimagesform();&quot; value=&quot;save&quot;></form>" style="cursor:pointer; position:relative; top:-400px;left:910px; font-size:25px">
<i style="text-shadow:1px 1px 20px #292929, 3px 3px 20px white;" id="spinner" class="fa fa-cog"></i>
</span>
</div>
<div class="row" style="margin-top:-235px">
<div class="col-md-1"></div>
<div class="col-md-10" >
<span data-toggle="modal" data-target="#myModal" style="cursor:pointer; position:relative; top:30px;left:810px; font-size:25px;">
  	<i style="text-shadow:1px 1px 20px #292929, 3px 3px 20px white;" id="spinner2" class="fa fa-cog"></i>
  	
  	
	</span>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" style="padding-left:100px">
    <div class="modal-content" style="width:400px">
      <div class="modal-header" style="color: #ffffff;background-color: #008cba;border-color: #008cba;">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></form></form>
        <h4 class="modal-title" id="myModalLabel">Profile Images</h4>
      </div>
      <div class="modal-body well">
      <table class="table table-striped">
      @for(profileImages <- pharmacy.profileImageList){
      <tr>
      <td style="width:200px"> <img src="/pharmacy/get-image/@pharmacy.id/@profileImages.id" width="150" height="75" /> </td>
      <td> <button class="btn btn-danger btn-xs"><a href="/pharmacy/remove-image/@pharmacy.id/@profileImages.id" style="color:white">Delete</a></button> </td>
      </tr>
      }
     </table>
      @helper.form(action = routes.PharmacistController.uploadPharmacyImageProcess(), 'enctype -> "multipart/form-data",'method -> "post") {
      	<div class="form-group">
    	<label for="exampleInputFile" class="badge"><b>Add Image</b></label>
    	<input type="file" name="profileImage" />
    	<input class="pull-right btn btn-primary btn-xs" type="submit" name="submit" value="Save Image" />
  		</div> 
      }
      
      </div>
    </div>
  </div>
</div>
<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  
  
  
  @if(pharmacy.profileImageList.size()>0){
  <ol class="carousel-indicators">
  @for((profileImages,index) <- pharmacy.profileImageList.zipWithIndex){
    <li data-target="#carousel-example-generic" data-slide-to="0" class="@if(index == 0){active}"></li>
    }
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner">
  @for((profileImages,index) <- pharmacy.profileImageList.zipWithIndex){
    <div class="item @if(index == 0){active}">
      <img src="/pharmacy/get-image/@pharmacy.id/@profileImages.id" alt="pharmacy1" style="height:300px; width:800px;"/>
    </div>
    }
  </div>
  }else{
  
   <ol class="carousel-indicators">
    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
   </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner">
    <div class="active">
      <img src="/assets/images/pharmacy-default-profile-image.jpg" alt="Pharmacy Pic" style="height:300px; width:800px;"/>
    </div>
  </div>
  
  }
  
  
  

  <!-- Controls -->
  <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev" style="width:0px">
    <span class="glyphicon glyphicon-chevron-left" style="margin-left:-40px;color:#006687"></span>
  </a>
  <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next" style="width:0px">
    <span class="glyphicon glyphicon-chevron-right" style="left:20px;color:#006687"></span>
  </a>
</div>
</div>
<div class="col-md-1"></div>
</div>
<br>
<h1 style="text-align:center;font-weight:bold;color:#006687">
@pharmacy.name
<span 

data-toggle="popover" title="Edit Pharmacy Name" data-html="true" data-content="
<form style=&quot;color:#000000; font-weight:bold;&quot; action=&quot;@routes.PharmacistController.pharmacyBasicUpdate()&quot; method=&quot;POST&quot;>
<input type=&quot;text&quot; name=&quot;name&quot; value=&quot;@pharmacy.name&quot;>
<input type=&quot;hidden&quot; name=&quot;pharmacyId&quot; value=&quot;@pharmacy.id&quot;>
<br>
<input class=&quot;pull-right btn btn-xs btn-primary&quot; type=&quot;submit&quot; onclick=&quot;submitbasicform('spinner-name');&quot; value=&quot;save&quot;>
</form>"

style="color:#006687; font-size:20px; position:relative; top:-20px; cursor:pointer;"><i id="spinner-name" class="fa fa-cog"></i></span>
   
</h1>
<br>
<div class="alert alert-success">
<span data-toggle="popover" title="Brief Description" data-placement="left" data-html="true" data-content="
<form action=&quot;@routes.PharmacistController.pharmacyBasicUpdate()&quot;method=&quot;POST&quot;>
<textarea name=&quot;description&quot; rows=&quot;12&quot; style=&quot;color:#292929; font-weight:bold;&quot; >@pharmacy.description</textarea>
<input type=&quot;hidden&quot; name=&quot;pharmacyId&quot; value=&quot;@pharmacy.id&quot;>
<br><input class=&quot;pull-right btn btn-xs btn-primary&quot; type=&quot;submit&quot; onclick=&quot;submitbasicform('spinner-description');&quot; value=&quot;save&quot;></form> " style="cursor:pointer; position:relative; font-size:15px; top:-13px; left:935px;"><i id="spinner-description" class="fa fa-cog"></i></span>
<p style="font-size:1.5em; align:justify; margin-top:-20px;">
	@pharmacy.description	 
</p>
</div>
<div class="row">
<div class="col-md-1">
</div>
<div class="col-md-10">
<div class="col-md-4">

<div>

</div>
<h2 style="position:reative; margin-top:0px;">Contact<span data-toggle="modal" data-target="#myaddrModal" style="cursor:pointer; position:relative; top:-3px;left:-150px; font-size:20px;"><i id="spinner2" class="fa fa-cog"></i></span></h2>
<div class="modal fade" id="myaddrModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" style="width:820px">
    <div class="modal-content" >
      <div class="modal-header" style="color: #ffffff;background-color: #008cba;border-color: #008cba;">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">Change Address Details</h4>
      </div>
      <div class="modal-body well">
     	<div class="row">
			<div class="col-md-4">
			<form action=@routes.PharmacistController.pharmacyAddressUpdate() role="form" method="POST">
			<div ><input type="hidden" name="lat" id="lat1"></div>
			<div ><input type="hidden" name="lng" id="lng1"></div>
  			<div class="form-group">
   				 <label for="addressLine1">Address Line1</label>
   				 <input type="text" class="form-control" name="addressLine1" @if(pharmacy.address!=null){value="@pharmacy.address.addrressLine1"} id="addressLine1" placeholder="Enter Address Line1">
 			</div>
  			<div class="form-group">
    			<label for="addressLine2">Address Line2</label>
    			<input type="text" class="form-control" name="addressLine2" @if(pharmacy.address!=null){value="@pharmacy.address.addrressLine2"} id="addressLine2" placeholder="Enter Address Line2">
  			</div>
  			<div class="form-group">
    			<label for="city">City</label>
    			<input type="text" class="form-control" name="city" @if(pharmacy.address!=null){value="@pharmacy.address.city"} id="city" placeholder="Enter City">
  			</div>
  			<div class="form-group">
    			<label for="city">Area</label>
    			<input type="text" class="form-control" name="area" @if(pharmacy.address!=null){value="@pharmacy.address.area"} id="area" placeholder="Enter Area">
  			</div>
  			<div class="form-group">
    			<label for="pincode">Pincode</label>
    			<input type="text" class="form-control" name="pincode" @if(pharmacy.address!=null){value="@pharmacy.address.pinCode"} id="pincode" placeholder="Enter Pincode">
  			</div>
  			<div class="form-group">
    			<label for="state">State</label><br>
				<select data-placeholder="Select the state" name="state" @if(pharmacy.address!=null){value="@pharmacy.address.state"}>
    				<option value=""></option>	
     				@for(state <- models.State.values()){
        			<option  name="state" value="@state">@state</option>
          			     }
    			</select>
  			</div>
  			<div class="form-group">
    			<label for="state">Country</label><br>
    			<select data-placeholder="Select the country" name="country" @if(pharmacy.address!=null){value="@pharmacy.address.country"}>
    				<option value=""></option>	
     				@for(country <- models.Country.values()){
        			<option  name="country" value="@country">@country</option>
          			     }
    			</select>
  			</div>
  
  			<div class="form-group">
    			<label for="phone">Phone Number</label>
    			<input type="text" name="contactNo" value="@pharmacy.contactNo" id="phone" class="form-control" placeholder="Enter phone number">
  			</div>
  			<div class="col-md-6">
				<h2>Location </h2>
				<div id="map_canvas" style="width:520px;height:400px">
				</div>
			</div>
  			<br>
  			<input type="hidden" name="pharmacyId" value='@pharmacy.id' >
			<button type="submit" class="btn btn-primary btn-sm">Submit</button>
		</form>
	</div>	
<div class="col-md-8">
<br><br>
<img src="/assets/images/googlemap1.png" width="520" height="400" style="position:relative" />
<div class="maptext" style="text-align:center">
<p>Please provide Area and City to generate the map</span></p>
</div>
</div>
</div>
      </div>
    </div>
  </div>
</div></h2>
@if(pharmacy.address != null){
<h5>@pharmacy.name</h5>
<h5>@pharmacy.address.addrressLine1</h5>
<h5>@pharmacy.address.area</h5>
<h5>@pharmacy.address.city</h5>
<h5>@pharmacy.address.state</h5>
<h5>@pharmacy.address.country</h5>
<h5>Pin Code:@pharmacy.address.pinCode</h5>
}
<h5>Phones nos:@pharmacy.contactNo</h5>
</div>	
<div class="col-md-8">
<div id="map_canvas" style="width:500px;height:300px"> </div>
</div>
</div>

@*<span style="font-size:20px; cursor:pointer; position:relative; top:-10px;">
<i id="spinner-address" class="fa fa-cog"></i>*@

<div class="col-md-1">
</div>
</div>
<br><br>
<h2>ShowCase List</h2>
<span data-toggle="modal" data-target="#mydrugModal" style="cursor:pointer; position:relative; top:2px;left:940px; font-size:15px;"><i id="spinner2" class="fa fa-cog"></i></span>
<div class="modal fade" id="mydrugModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="color: #ffffff;background-color: #008cba;border-color: #008cba;">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">Change Drug Names</h4>
      </div>
      <div class="modal-body well">
      
      <form action=@routes.PharmacistController.addShowCasedProduct() enctype="multipart/form-data" method="POST">	
      <div >
    			<label for="name">Product Name</label>
    			<input type="text" class="form-control" name="name" id="name" placeholder="Enter Product Name">
  			</div>
  			<br>
  			<div >
			<textarea name="description" rows=5  placeholder="Write Some Description" ></textarea>
			</div>
			<div>
			<label for="image">Upload Images</label>
			<input type="file" name="file">
			<a class="btn btn-xs btn-success" onclick="addfiles();" id="addfiles"> Add File </a>
			
			
		    <div id="files"></div>
			</div>
			<div >
    			<label for="MRP">MRP</label>
    			<input type="text" class="form-control" name="mrp" id="mrp" placeholder="Price Of Prroduct">
  			</div>
  			<br>
  			<input type="hidden" name="pharmacyId" value="@pharmacy.id"/>
  			<input type="submit" value="Add Product" />

	</form>
     
	  </div>
    </div>
  </div>
</div>
<table class="table table-bordered">
<tr>
<th> S No </th>
<th> Drug Name </th>
<th> Purpose</th>
</tr>
@if(pharmacy.showCaseProductList.size != 0){
@for((showCaseProduct,index)<- pharmacy.showCaseProductList.zipWithIndex){
<tr>
<td> @{index+1} </td>
<td> @showCaseProduct.name</td>
<td> @showCaseProduct.description </td>
<th>
<a href="/pharmacy/remove-product-from-showcase/@showCaseProduct.id" class="btn btn-xs btn-danger">Remove</a>
</th>
</tr>
}
}
</table>

<br>
<button class="btn btn-success btn-lg"><a href="/pharmacy/order/@pharmacy.id" style="color:white">Place your order</a></button>

}