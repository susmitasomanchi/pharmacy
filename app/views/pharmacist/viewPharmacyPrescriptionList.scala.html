@(pharmacyPrescriptionInfos : List[models.pharmacist.PharmacyPrescriptionInfo], status:String)

@main("Pharmacy Prescription and Order"){

<div class=" row col-md-6 btn-group">
   
<select class="chzn" id="status-select" style="width:50%;" data-placeholder="Select Order Status">
<option></option>
<option value="any" @if(status.trim.toLowerCase().compareTo("any")==0){selected}>Any</option>
<option value="received" @if(status.trim.toLowerCase().compareTo("received")==0){selected}>Received</option>
<option value="served" @if(status.trim.toLowerCase().compareTo("served")==0){selected}>Served</option>
</select>
   
</div>


<script>
$('#status-select').on('change', function(){
	var selValue = $('#status-select').val();
	window.location.href='/pharmacy/prescriptions?status='+selValue;	
});



</script>


<br><br>
<div class="row">
<div class="col-md-8">
<table class="table table-striped table-bordered">
<tr>
<th>S.No</th>
<th>Doctor</th>
<th>Patient</th>
<th>Date</th>
<th>Order Status</th>
<th>Action</th>
</tr>

@for((pharmacyPrescriptionInfo,index) <- pharmacyPrescriptionInfos.zipWithIndex){
<tr>
<td>@{index+1}</td>
<td>
<a href="@routes.PublicController.getDoctorWithSlug(pharmacyPrescriptionInfo.prescription.doctor.slugUrl)">Dr. @pharmacyPrescriptionInfo.prescription.doctor.appUser.name</a>
<br>
<small>@pharmacyPrescriptionInfo.prescription.doctor.degree</small>
<br>
<small>@pharmacyPrescriptionInfo.prescription.doctor.specialization</small>
</td>

<td>@pharmacyPrescriptionInfo.prescription.patient.appUser.name
<br>
@pharmacyPrescriptionInfo.prescription.patient.appUser.mobileNumber
</td>

<td>@pharmacyPrescriptionInfo.receivedDate.format("dd-MMM-yyyy HH:mm") </td>
<td>
<span style="padding-right:20px">@pharmacyPrescriptionInfo.pharmacyPrescriptionStatus</span>
@*if(pharmacyPrescriptionInfo.pharmacyPrescriptionStatus.equals(models.pharmacist.PharmacyPrescriptionStatus.RECEIVED)&& !pharmacyPrescriptionInfo.pharmacyPrescriptionStatus.equals(models.pharmacist.PharmacyPrescriptionStatus.SERVED)){
<a href="@routes.PharmacistController.confirmPrescription(pharmacyPrescriptionInfo.id)" class="btn btn-primary btn-xs" >Confirm</a>
}*@
@if(!pharmacyPrescriptionInfo.pharmacyPrescriptionStatus.equals(models.pharmacist.PharmacyPrescriptionStatus.SERVED)){
<a href="@routes.PharmacistController.servedPrescription(pharmacyPrescriptionInfo.id)" class="btn btn-primary btn-xs" >Served</a>
}
</td>

<td><a href="@routes.PharmacistController.getPrescriptionDetails(pharmacyPrescriptionInfo.id)" class="btn btn-success btn-xs" >View Prescription</a></td>
</tr>

}

</table>
</div>

</div>

    }
