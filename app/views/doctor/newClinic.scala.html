@(clinicForm:play.data.Form[beans.ClinicBean],list:List[String],listmr:List[String])

@import play.i18n._
@import helper.twitterBootstrap._
@import helper._


@main("New Clinic"){
	<form action="@routes.DoctorController.processNewClinic()" method="post" onsubmit="return validate()">
	@helper.inputText(clinicForm("name"),'class -> "inputs",'_value->"10",'_label->"Name")
			
	<div class="row clearfix">
		<div class="col-md-12 column">
			<div class="row clearfix">
				<div class="col-md-6 column">
				
				<table class="table">
			<head>
			<tr>		
				<th>Day</th>
				<th>From time</th>
				<th>To  time</th>
			</tr>
			</head>
			<tbody>
			For Patient
			@for((day,index) <- models.doctor.Day.getList().zipWithIndex){
				@if(list.contains(day.toString())){
					
					<tr>
					<td><input class="checkday" id="p-@day" type="checkbox" name="daysOfWeek[]" value="@day.toString()" checked >@day</input></td>
					<td><input id="p-@day-from" type="text" name="fromHrs[]" value="@clinicForm("fromHrs["+index+"]").value"  required></input></td>
					<td><input id="p-@day-to" type="text" name="toHrs[]" value="@clinicForm("toHrs["+index+"]").value" required></input></td>
					</tr>
					}else{
					<tr>
					<td><input class="checkday" id="p-@day" type="checkbox" name="daysOfWeek[]" value="@day.toString()" >@day</input></td>
					<td><input id="p-@day-from" type="text" name="fromHrs[]" disabled required></input></td>
					<td><input id="p-@day-to" type="text" name="toHrs[]"  disabled required></input></td>
					</tr>
					}
						
				}
			</tbody>
			</table>	
				@helper.inputText(clinicForm("slot"),'_class -> "inputs",'_value->"10",'_label->"Time interval Slot(in minutes)")
				@clinicForm("slot").value()
				</div>
				<div class="col-md-6 column">
			<table class="table">
			<head>
			<tr>		
				<th>Day</th>
				<th>From time</th>
				<th>To  time</th>
			</tr>
			</head>
			<tbody>
			For Medical Representative
			@for((day,index) <- models.doctor.Day.getList().zipWithIndex){
					@if(listmr.contains(day.toString())){
				<tr>
					<td><input class="checkday" id="m-@day" type="checkbox" name="daysOfWeekMr[]" value="@day.toString()" checked>@day</input></td>
					<td><input id="m-@day-from" type="number" name="fromHrsMr[]" value="@clinicForm("fromHrsMr["+index+"]").value" required></input></td>
					<td><input id="m-@day-to" type="number" name="toHrsMr[]" value="@clinicForm("toHrsMr["+index+"]").value" required></input></td>
				</tr>	
					}else{
				<tr>
					<td><input class="checkday" id="m-@day" type="checkbox" name="daysOfWeekMr[]"  value="@day.toString()">@day</input></td>
					<td><input id="m-@day-from" type="number" name="fromHrsMr[]" value="@clinicForm("fromHrsMr["+index+"]").value"disabled required></input></td>
					<td><input id="m-@day-	to" type="number" name="toHrsMr[]"  value="@clinicForm("toHrsMr["+index+"]").value" disabled required></input></td>
				</tr>
					}
			}
			</tbody>
			</table>	
					@helper.inputText(clinicForm("slotmr"),'_class -> "inputs",'_value->"10",'_label->"Time interval Slot(in minutes)")
				</div>
			</div>
		</div>
	</div>

			
			
			
	<br><br>
				<input type="hidden" name="id" value='@clinicForm("id").value' >
				<input type="submit" class="btn btn-primary" value="Submit">

</form>
<script>

$('.checkday').change(function() {	
    if($(this).is(":checked")) {
    	var id = $(this).attr("id");
		$("#"+id+"-from").prop("disabled", false);
		$("#"+id+"-to").prop("disabled", false);
    }
    else{
		var id = $(this).attr("id");
		$("#"+id+"-from").val("");
		$("#"+id+"-from").attr("disabled","disabled");
		$("#"+id+"-to").val("");
		$("#"+id+"-to").attr("disabled","disabled");
    }
    $('#textbox1').val($(this).is(':checked'));        
});

function validate(){
	var values = $('input:checkbox:checked').map(function () {
			if($("#"+this.id+"-from").val() > $("#"+this.id+"-to").val()){
				return 1;
			}

		  return 0;
	}).get();

if($.inArray(1, values) != -1){
	return false;
	}
return true;
}


</script>			
			


}